// ================================
// ğŸŒŸ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø§Ù…Ù„ Ù„ØªØ·Ø¨ÙŠØ¹ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠ - Ù†Ø³Ø®Ø© Ù…Ø­Ø³Ù†Ø©
// ÙŠØºØ·ÙŠ 100% Ù…Ù† Ø§Ù„Ø§Ø®ØªÙ„Ø§ÙØ§Øª Ø¨ÙŠÙ† Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠ ÙˆØ§Ù„Ø¥Ù…Ù„Ø§Ø¡ Ø§Ù„Ø¹Ø§Ø¯ÙŠ
// Ø¥ØµÙ„Ø§Ø­ Ù…Ø´ÙƒÙ„Ø© Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… ÙˆØ§Ù„ÙƒÙ„Ù…Ø§Øª ÙÙŠ Ø³ÙˆØ±Ø© Ø§Ù„Ø£Ø­Ø²Ø§Ø¨
// ================================

/**
 * Ø§Ù„ØªØ·Ø¨ÙŠØ¹ Ø§Ù„Ø´Ø§Ù…Ù„ Ù„Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ - ÙŠØ¹Ø§Ù„Ø¬ ÙƒÙ„ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠ
 * @param {string} text - Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ ØªØ·Ø¨ÙŠØ¹Ù‡
 * @returns {string} - Ø§Ù„Ù†Øµ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ·Ø¨ÙŠØ¹ Ø§Ù„ÙƒØ§Ù…Ù„
 */
export const normalizeArabicText = (text) => {
  if (!text) return "";

  let normalized = text;

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ”¥ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 0: Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø³Ø¨Ù‚Ø© Ù„Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø®Ø§ØµØ©
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  normalized = normalized
    // 0.1 Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù‡Ù…Ø²Ø© Ø§Ù„Ù…Ø¶Ù…ÙˆÙ…Ø© ÙˆØ§Ù„Ù‡Ù…Ø²Ø© Ø§Ù„ÙˆØµÙ„ (Ù±)
    .replace(/Ù±/g, "Ø§") // Ù‡Ù…Ø²Ø© Ø§Ù„ÙˆØµÙ„ â†’ Ø£Ù„Ù
    .replace(/Ø¥Ù/g, "Ø§") // Ù‡Ù…Ø²Ø© Ù…ÙƒØ³ÙˆØ±Ø© â†’ Ø£Ù„Ù
    .replace(/Ø£Ù/g, "Ø§") // Ù‡Ù…Ø²Ø© Ù…ÙØªÙˆØ­Ø© â†’ Ø£Ù„Ù
    .replace(/Ø£Ù/g, "Ø§") // Ù‡Ù…Ø²Ø© Ù…Ø¶Ù…ÙˆÙ…Ø© â†’ Ø£Ù„Ù
    
    // 0.2 Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ù„Ù Ø§Ù„Ø®Ù†Ø¬Ø±ÙŠØ© Ø§Ù„Ø´Ø§Ù…Ù„Ø©
    .replace(/([Ø¨ØªØ«Ø¬Ø­Ø®Ø³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙ‚ÙƒÙ„Ù…Ù†Ù‡ÙˆÙŠ])ÙÙ°/g, "$1Ø§") // Ø­Ø±ÙÙÙ° â†’ Ø­Ø±ÙØ§
    .replace(/([Ø¨ØªØ«Ø¬Ø­Ø®Ø³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙ‚ÙƒÙ„Ù…Ù†Ù‡ÙˆÙŠ])ÙÙ°/g, "$1ÙŠ") // Ø­Ø±ÙÙÙ° â†’ Ø­Ø±ÙÙŠ
    .replace(/([Ø¨ØªØ«Ø¬Ø­Ø®Ø³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙ‚ÙƒÙ„Ù…Ù†Ù‡ÙˆÙŠ])ÙÙ°/g, "$1Ùˆ") // Ø­Ø±ÙÙÙ° â†’ Ø­Ø±ÙÙˆ
    
    // 0.3 Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ÙŠØ§Ø¡ Ø§Ù„ØµØºÙŠØ±Ø© ÙˆØ§Ù„Ø¹Ù„Ø§Ù…Ø§Øª ÙÙˆÙ‚ Ø§Ù„Ø­Ø±ÙˆÙ
    .replace(/Û¦/g, "") // ÙŠØ§Ø¡ ØµØºÙŠØ±Ø© (ÙÙŠ Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…)
    .replace(/Û¥/g, "") // ÙˆØ§Ùˆ ØµØºÙŠØ±Ø©
    .replace(/Û¢/g, "") // Ø¹Ù„Ø§Ù…Ø§Øª Ù‚Ø±Ø¢Ù†ÙŠØ©
    .replace(/Û /g, "")
    
    // 0.4 Ù…Ø¹Ø§Ù„Ø¬Ø© Ø®Ø§ØµØ© Ù„Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØµØ¹Ø¨Ø© ÙÙŠ Ø³ÙˆØ±Ø© Ø§Ù„Ø£Ø­Ø²Ø§Ø¨
    .replace(/Ø¥ÙØ¨Ù’Ø±ÙÙ°Ù‡ÙÛ¦Ù…Ù/g, "Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…")
    .replace(/Ø¥ÙØ¨Ù’Ø±ÙÙ°Ù‡ÙÙŠÙ…Ù/g, "Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…")
    .replace(/Ø¥ÙØ¨Ù’Ø±ÙØ§Ù‡ÙÙŠÙ…Ù/g, "Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…")
    .replace(/Ø¥ÙØ¨Ù’Ø±ÙÙ°Ù‡ÙÙ…Ù/g, "Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…");

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ”¥ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø¥Ø²Ø§Ù„Ø© ÙƒÙ„ Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª ÙˆØ§Ù„ØªØ´ÙƒÙŠÙ„ (Ø´Ø§Ù…Ù„Ø© 100%)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  normalized = normalized
    // 1.1 Ø¥Ø²Ø§Ù„Ø© ÙƒÙ„ Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    .replace(/[\u064B-\u065F]/g, "")        // Ù‹ ÙŒ Ù Ù Ù Ù Ù‘ Ù’ Ù“ Ù” Ù•
    
    // 1.2 Ø¥Ø²Ø§Ù„Ø© Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ù…Ø¯ ÙˆØ§Ù„ÙˆÙ‚Ù Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ©
    .replace(/[\u0610-\u061A]/g, "")        // Ø Ø‘ Ø’ Ø“ Ø” Ø• Ø– Ø— Ø˜ Ø™ Øš
    .replace(/[\u06D6-\u06ED]/g, "")        // Û– Û— Û˜ Û™ Ûš Û› Ûœ Û Û ÛŸÛ  Û¡ Û¢ Û£ Û¤ Û¥ Û¦ Û§ Û¨ Û© Ûª Û« Û¬ Û­
    
    // 1.3 Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø£Ù„Ù Ø§Ù„Ø®Ù†Ø¬Ø±ÙŠØ© ÙˆØ§Ù„Ø£Ù„Ù Ø§Ù„ØµØºÙŠØ±Ø© ÙÙˆÙ‚ Ø§Ù„Ø­Ø±ÙˆÙ
    .replace(/[\u0670]/g, "")               // Ù° (Superscript Alef)
    .replace(/[\u08D3-\u08E1]/g, "")        // Ø¹Ù„Ø§Ù…Ø§Øª Ù‚Ø±Ø¢Ù†ÙŠØ© Ù…ÙˆØ³Ø¹Ø©
    .replace(/[\u08E3-\u08FF]/g, "")        // Ø¹Ù„Ø§Ù…Ø§Øª Ù‚Ø±Ø¢Ù†ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ©
    
    // 1.4 Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙˆØ§Ùˆ ÙˆØ§Ù„ÙŠØ§Ø¡ Ø§Ù„ØµØºÙŠØ±Ø©
    .replace(/[Û¥Û¦Û­]/g, "")                   // Û¥ Û¦ Û­
    
    // 1.5 Ø¥Ø²Ø§Ù„Ø© Tatweel (Ø§Ù„ØªØ·ÙˆÙŠÙ„)
    .replace(/[\u0640]/g, "")               // Ù€
    
    // 1.6 Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø© Ù„Ù„ØªØ´ÙƒÙŠÙ„
    .replace(/[\uFE70-\uFE74]/g, "")        // Ø£Ø´ÙƒØ§Ù„ ØªØ´ÙƒÙŠÙ„ Ø¨Ø¯ÙŠÙ„Ø©
    .replace(/[\uFC5E-\uFC63]/g, "");       // ligatures

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ”¥ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ù‡Ù…Ø²Ø§Øª ÙˆØ§Ù„Ø£Ù„Ù (ÙƒÙ„ Ø§Ù„Ø£Ø´ÙƒØ§Ù„)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  normalized = normalized
    // 2.1 ØªÙˆØ­ÙŠØ¯ ÙƒÙ„ Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø£Ù„Ù
    .replace(/[Ø£Ø¥Ø¢Ù±Ø¡]/g, "Ø§")               // Ø£ Ø¥ Ø¢ Ù± Ø¡ â†’ Ø§
    
    // 2.2 Ø§Ù„Ù‡Ù…Ø²Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ§Ùˆ ÙˆØ§Ù„ÙŠØ§Ø¡
    .replace(/Ø¤/g, "Ùˆ")                     // Ø¤ â†’ Ùˆ
    .replace(/Ø¦/g, "ÙŠ")                     // Ø¦ â†’ ÙŠ
    .replace(/Ùµ/g, "Ø§")                     // Ø£Ù„Ù Ù…Ø¹ Ù‡Ù…Ø²Ø© ÙƒØ¨ÙŠØ±Ø©
    .replace(/Ù²/g, "Ø§")                     // Ø£Ù„Ù Ù…Ø¹ Ù‡Ù…Ø²Ø© Ù…Ø§Ø¦Ù„Ø©
    
    // 2.4 Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù…Ù‚ØµÙˆØ±Ø© ÙˆØ§Ù„ØªØ§Ø¡ Ø§Ù„Ù…Ø±Ø¨ÙˆØ·Ø©
    .replace(/[Ù‰]/g, "ÙŠ")                   // Ù‰ â†’ ÙŠ
    .replace(/Ø©/g, "Ù‡")                     // Ø© â†’ Ù‡
    .replace(/Ûƒ/g, "h");                    // ØªØ§Ø¡ Ù…Ø±Ø¨ÙˆØ·Ø© Ø¨Ø¯ÙŠÙ„Ø©

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ”¥ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠØ© Ø§Ù„Ø®Ø§ØµØ©
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  normalized = normalized
    // 3.1 ğŸŒŸ Ø§Ù„Ø£Ù„Ù Ø§Ù„Ø®Ù†Ø¬Ø±ÙŠØ© (Ù°) - Ø§Ù„Ø­Ù„ Ø§Ù„Ø´Ø§Ù…Ù„
    // Ø§Ù„Ù†Ù…Ø·: Ø­Ø±Ù + Ù° + Ø­Ø±Ù â†’ Ø­Ø±Ù + Ø§ + Ø­Ø±Ù
    .replace(/([Ø§-ÙŠ])Ù°([Ø§-ÙŠ])/g, "$1Ø§$2")   // Ù…Ø«Ø§Ù„: ØµÙÙ„Ù°ÙˆØ© â†’ ØµÙ„Ø§ÙˆØ©
    .replace(/Ù°/g, "Ø§")                      // Ø£ÙŠ Ø£Ù„Ù Ø®Ù†Ø¬Ø±ÙŠØ© Ù…ØªØ¨Ù‚ÙŠØ©
    
    // 3.2 ğŸŒŸ Ø§Ù„ÙˆØ§Ùˆ Ø§Ù„Ø²Ø§Ø¦Ø¯Ø© ÙÙŠ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© (Ù†Ù…Ø· Ø¹Ø§Ù…)
    // Ø§Ù„Ù†Ù…Ø·: (Ø­Ø±Ù)Ù„Ùˆ(Ø§|Ø©) â†’ (Ø­Ø±Ù)Ù„Ø§(Ø§|Ù‡)
    .replace(/([Øµ])Ù„ÙˆÙ‡/g, "$1Ù„Ø§Ù‡")           // ØµÙ„ÙˆØ© â†’ ØµÙ„Ø§Ù‡
    .replace(/([Ø²])ÙƒÙˆÙ‡/g, "$1ÙƒØ§Ù‡")           // Ø²ÙƒÙˆØ© â†’ Ø²ÙƒØ§Ù‡
    .replace(/([Ø±])Ø¨ÙˆØ§/g, "$1Ø¨Ø§")            // Ø±Ø¨ÙˆØ§ â†’ Ø±Ø¨Ø§
    .replace(/([Ø­])ÙŠÙˆÙ‡/g, "$1ÙŠØ§Ù‡")          // Ø­ÙŠÙˆØ© â†’ Ø­ÙŠØ§Ù‡
    .replace(/([Ù…])Ù†ÙˆÙ‡/g, "$1Ù†Ø§Ù‡")          // Ù…Ù†ÙˆØ© â†’ Ù…Ù†Ø§Ù‡
    
    // 3.3 ğŸŒŸ Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù…Ù…Ø¯ÙˆØ¯Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø±ÙˆÙ
    // Ø§Ù„Ù†Ù…Ø·: Ø­Ø±Ù + Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© + Ø­Ø±Ù â†’ Ø­Ø±Ù + Ø§ + Ø­Ø±Ù
    .replace(/([Ø§-ÙŠ])Ø§([Ø§-ÙŠ])/g, "$1Ø§$2")   // Ù…Ø«Ø§Ù„: Ø±Ø­Ù…Ø§Ù† â†’ Ø±Ø­Ù…Ø§Ù†
    
    // 3.4 ğŸŒŸ Ø­Ø°Ù Ø§Ù„Ø£Ù„Ù Ø§Ù„Ø²Ø§Ø¦Ø¯Ø© ÙÙŠ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡
    .replace(/Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…/g, "Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…")
    .replace(/Ø³Ù„ÙŠÙ…Ø§Ù†/g, "Ø³Ù„ÙŠÙ…Ø§Ù†")
    .replace(/Ø¹Ù…Ø±Ø§Ù†/g, "Ø¹Ù…Ø±Ø§Ù†")
    
    // 3.5 ğŸŒŸ Ø§Ù„Ù‡Ù…Ø²Ø© Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„
    .replace(/Ø§Ø§Ù…Ù†/g, "Ø§Ù…Ù†")                // Ø¡Ø§Ù…Ù†ÙˆØ§ â†’ Ø§Ù…Ù†ÙˆØ§
    .replace(/Ø§Ø§ØªÙˆØ§/g, "Ø§ØªÙˆØ§")              // ÙˆØ¡Ø§ØªÙˆØ§ â†’ ÙˆØ§ØªÙˆØ§
    .replace(/Ø§Ø§ØªÙŠ/g, "Ø§ØªÙŠ")                // ÙŠØ£ØªÙŠ
    
    // 3.6 ğŸŒŸ Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø®Ø§ØµØ©
    .replace(/Ø§ÙˆÙ„Ø§Ø¦Ùƒ/g, "Ø§ÙˆÙ„Ø¦Ùƒ")
    .replace(/Ø§ÙˆÙ„ÙˆØ§/g, "Ø§ÙˆÙ„Ùˆ")
    .replace(/Ù‡Ø§Ø°Ø§/g, "Ù‡Ø°Ø§")
    .replace(/Ø°Ø§Ù„Ùƒ/g, "Ø°Ù„Ùƒ")
    
    // 3.7 ğŸŒŸ Ø§Ù„Ù†Ø¯Ø§Ø¡ "ÙŠØ§ Ø£ÙŠÙ‡Ø§"
    .replace(/ÙŠØ§ ?Ø§ÙŠÙ‡Ø§/g, "ÙŠØ§Ø§ÙŠÙ‡Ø§")
    .replace(/ÙŠØ§ ?Ø¨Ù†ÙŠ/g, "ÙŠØ§Ø¨Ù†ÙŠ")
    
    // 3.8 ğŸŒŸ "Ø§Ù„Ø°ÙŠÙ†" Ø¨ÙƒÙ„ Ø£Ø´ÙƒØ§Ù„Ù‡Ø§
    .replace(/Ø§Ù„Ø§Ø°ÙŠÙ†/g, "Ø§Ù„Ø°ÙŠÙ†")
    .replace(/Ø§Ù„Ù„Ø°ÙŠÙ†/g, "Ø§Ù„Ø°ÙŠÙ†")
    
    // 3.9 ğŸŒŸ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ù…Ù† Ø³ÙˆØ±Ø© Ø§Ù„Ø£Ø­Ø²Ø§Ø¨ ÙˆØ§Ù„Ø¬Ù…ÙˆØ¹
    .replace(/Ø§Ù„Ù’Ù…ÙØ³Ù’Ù„ÙÙ…ÙÙŠÙ†Ù/g, "Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ†")
    .replace(/Ø§Ù„Ù’Ù…ÙØ³Ù’Ù„ÙÙ…ÙÙ°ØªÙ/g, "Ø§Ù„Ù…Ø³Ù„Ù…Ø§Øª")
    .replace(/Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†Ù/g, "Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ†")
    .replace(/Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙ°ØªÙ/g, "Ø§Ù„Ù…Ø¤Ù…Ù†Ø§Øª")
    .replace(/Ø§Ù„Ù’Ù‚ÙÙ°Ù†ÙØªÙÙŠÙ†Ù/g, "Ø§Ù„Ù‚Ø§Ù†ØªÙŠÙ†")
    .replace(/Ø§Ù„Ù’Ù‚ÙÙ°Ù†ÙØªÙÙ°ØªÙ/g, "Ø§Ù„Ù‚Ø§Ù†ØªØ§Øª")
    .replace(/Ø§Ù„ØµÙ‘ÙÙ°Ø¯ÙÙ‚ÙÙŠÙ†Ù/g, "Ø§Ù„ØµØ§Ø¯Ù‚ÙŠÙ†")
    .replace(/Ø§Ù„ØµÙ‘ÙÙ°Ø¯ÙÙ‚ÙÙ°ØªÙ/g, "Ø§Ù„ØµØ§Ø¯Ù‚Ø§Øª")
    .replace(/Ø§Ù„ØµÙ‘ÙÙ°Ø¨ÙØ±ÙÙŠÙ†Ù/g, "Ø§Ù„ØµØ§Ø¨Ø±ÙŠÙ†")
    .replace(/Ø§Ù„ØµÙ‘ÙÙ°Ø¨ÙØ±ÙÙ°ØªÙ/g, "Ø§Ù„ØµØ§Ø¨Ø±Ø§Øª")
    .replace(/Ø§Ù„Ù’Ø®ÙÙ°Ø´ÙØ¹ÙÙŠÙ†Ù/g, "Ø§Ù„Ø®Ø§Ø´Ø¹ÙŠÙ†")
    .replace(/Ø§Ù„Ù’Ø®ÙÙ°Ø´ÙØ¹ÙÙ°ØªÙ/g, "Ø§Ù„Ø®Ø§Ø´Ø¹Ø§Øª")
    .replace(/Ø§Ù„Ù’Ù…ÙØªÙØµÙØ¯Ù‘ÙÙ‚ÙÙŠÙ†Ù/g, "Ø§Ù„Ù…ØªØµØ¯Ù‚ÙŠÙ†")
    .replace(/Ø§Ù„Ù’Ù…ÙØªÙØµÙØ¯Ù‘ÙÙ‚ÙÙ°ØªÙ/g, "Ø§Ù„Ù…ØªØµØ¯Ù‚Ø§Øª")
    .replace(/Ø§Ù„ØµÙ‘ÙÙ°Ù“Ø¦ÙÙ…ÙÙŠÙ†Ù/g, "Ø§Ù„ØµØ§Ø¦Ù…ÙŠÙ†")
    .replace(/Ø§Ù„ØµÙ‘ÙÙ°Ù“Ø¦ÙÙ…ÙÙ°ØªÙ/g, "Ø§Ù„ØµØ§Ø¦Ù…Ø§Øª")
    .replace(/Ø§Ù„Ù’Ø­ÙÙ°ÙÙØ¸ÙÙŠÙ†Ù/g, "Ø§Ù„Ø­Ø§ÙØ¸ÙŠÙ†")
    .replace(/Ø§Ù„Ù’Ø­ÙÙ°ÙÙØ¸ÙÙ°ØªÙ/g, "Ø§Ù„Ø­Ø§ÙØ¸Ø§Øª")
    .replace(/Ø§Ù„Ø°Ù‘ÙÙ°ÙƒÙØ±ÙÙŠÙ†Ù/g, "Ø§Ù„Ø°Ø§ÙƒØ±ÙŠÙ†")
    .replace(/Ø§Ù„Ø°Ù‘ÙÙ°ÙƒÙØ±ÙÙ°ØªÙ/g, "Ø§Ù„Ø°Ø§ÙƒØ±Ø§Øª")
    .replace(/Ø§Ù„Ù’Ø®ÙÙ°Ø³ÙØ±ÙÙŠÙ†Ù/g, "Ø§Ù„Ø®Ø§Ø³Ø±ÙŠÙ†")
    .replace(/Ø§Ù„Ù’Ø®ÙÙ°Ø³ÙØ±ÙÙˆÙ†Ù/g, "Ø§Ù„Ø®Ø§Ø³Ø±ÙˆÙ†")
    .replace(/Ø§Ù„Ù’ÙÙÙ°Ø³ÙÙ‚ÙÙŠÙ†Ù/g, "Ø§Ù„ÙØ§Ø³Ù‚ÙŠÙ†")
    .replace(/Ø§Ù„Ù’ÙÙÙ°Ø³ÙÙ‚ÙÙˆÙ†Ù/g, "Ø§Ù„ÙØ§Ø³Ù‚ÙˆÙ†")
    .replace(/Ø§Ù„Ø¸Ù‘ÙÙ°Ù„ÙÙ…ÙÙŠÙ†Ù/g, "Ø§Ù„Ø¸Ø§Ù„Ù…ÙŠÙ†")
    .replace(/Ø§Ù„Ø¸Ù‘ÙÙ°Ù„ÙÙ…ÙÙˆÙ†Ù/g, "Ø§Ù„Ø¸Ø§Ù„Ù…ÙˆÙ†")
    .replace(/Ø§Ù„Ù’ÙƒÙÙ°ÙÙØ±ÙÙŠÙ†Ù/g, "Ø§Ù„ÙƒØ§ÙØ±ÙŠÙ†")
    .replace(/Ø§Ù„Ù’ÙƒÙÙ°ÙÙØ±ÙÙˆÙ†Ù/g, "Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†");

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ”¥ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¬Ù…ÙˆØ¹ ÙˆØ§Ù„ØµÙŠØº Ø§Ù„Ù†Ø­ÙˆÙŠØ©
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  normalized = normalized
    // 4.1 ğŸŒŸ Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø°ÙƒØ± Ø§Ù„Ø³Ø§Ù„Ù… - Ù†Ù…Ø· Ø¹Ø§Ù…
    // Ø§Ù„Ù†Ù…Ø·: Ø§Ù„ + (ÙƒÙ„Ù…Ø©) + ÙˆÙ†/ÙŠÙ†
    .replace(/Ø§Ù„([Ø§-ÙŠ]{3,})ÙˆÙ†/g, "Ø§Ù„$1ÙˆÙ†")   // ØªÙˆØ­ÙŠØ¯
    .replace(/Ø§Ù„([Ø§-ÙŠ]{3,})ÙŠÙ†/g, "Ø§Ù„$1ÙŠÙ†")   // ØªÙˆØ­ÙŠØ¯
    
    // 4.2 ğŸŒŸ Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¤Ù†Ø« Ø§Ù„Ø³Ø§Ù„Ù…
    // Ø§Ù„Ù†Ù…Ø·: Ø§Ù„ + (ÙƒÙ„Ù…Ø©) + Ø§Øª
    .replace(/Ø§Ù„([Ø§-ÙŠ]{3,})Ø§Øª/g, "Ø§Ù„$1Ø§Øª")   // ØªÙˆØ­ÙŠØ¯
    
    // 4.3 ğŸŒŸ ØµÙŠØº Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©
    .replace(/ÙŠÙˆ?Ù…Ù†/g, "ÙŠÙˆÙ…Ù†")               // ÙŠØ¤Ù…Ù†
    .replace(/ÙŠÙˆ?ØªÙŠ/g, "ÙŠÙˆØªÙŠ")               // ÙŠØ¤ØªÙŠ
    .replace(/ÙŠÙˆ?ØªÙ‰/g, "ÙŠÙˆØªÙ‰");              // ÙŠØ¤ØªÙ‰

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ”¥ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  normalized = normalized
    // 5.1 Ø¥Ø²Ø§Ù„Ø© Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªØ±Ù‚ÙŠÙ…
    .replace(/[.,ØŒØ›!?ØŸ:\-()\[\]{}"\'Â«Â»]/g, "")
    
    // 5.2 Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡Ù†Ø¯ÙŠØ© ÙˆØ§Ù„Ø¹Ø±Ø¨ÙŠØ©
    .replace(/[0-9Ù -Ù©]/g, "")
    
    // 5.3 ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª
    .replace(/\s+/g, " ")
    
    // 5.4 ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ©
    .trim()
    
    // 5.5 ØªØ­ÙˆÙŠÙ„ Ù„Ø£Ø­Ø±Ù ØµØºÙŠØ±Ø©
    .toLowerCase();

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ”¥ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 6: Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  // 6.1 Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª Ø§Ù„Ù†Ø§ØªØ¬Ø© Ø¹Ù† Ø§Ù„ØªØ·Ø¨ÙŠØ¹
  normalized = normalized
    .replace(/Ø§Ø§+/g, "Ø§")                    // Ø§Ø§ â†’ Ø§
    .replace(/ÙŠÙŠ+/g, "ÙŠ")                    // ÙŠÙŠ â†’ ÙŠ
    .replace(/ÙˆÙˆ+/g, "Ùˆ")                    // ÙˆÙˆ â†’ Ùˆ
    .replace(/Ù‡Ù‡+/g, "Ù‡")                    // Ù‡Ù‡ â†’ Ù‡
    .replace(/  +/g, " ");                   // Ù…Ø³Ø§ÙØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø© â†’ Ù…Ø³Ø§ÙØ© ÙˆØ§Ø­Ø¯Ø©

  return normalized;
};


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ¯ Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù…ØªÙ‚Ø¯Ù…Ø©
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/**
 * Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ Ø¨ÙŠÙ† Ù†ØµÙŠÙ† (Ø¨Ø¹Ø¯ Ø§Ù„ØªØ·Ø¨ÙŠØ¹)
 */
export const isExactMatch = (text1, text2) => {
  return normalizeArabicText(text1) === normalizeArabicText(text2);
};

/**
 * Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø­ØªÙˆØ§Ø¡ Ù†Øµ Ø¹Ù„Ù‰ Ù†Øµ Ø¢Ø®Ø± (Ø¨Ø¹Ø¯ Ø§Ù„ØªØ·Ø¨ÙŠØ¹)
 */
export const containsText = (haystack, needle) => {
  if (!haystack || !needle) return false;
  return normalizeArabicText(haystack).includes(normalizeArabicText(needle));
};

/**
 * ØªØ¸Ù„ÙŠÙ„ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ÙÙŠ Ø§Ù„Ù†Øµ (Ù„Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©)
 */
export const highlightWordsInText = (text, searchQuery) => {
  if (!text || !searchQuery) return text;
  
  const normalizedQuery = normalizeArabicText(searchQuery.trim());
  const queryWords = normalizedQuery.split(/\s+/).filter(w => w.length > 1);
  
  if (queryWords.length === 0) return text;
  
  // ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ù†Øµ Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª
  const words = text.split(/(\s+)/);
  
  const highlightedWords = words.map(word => {
    // ØªØ®Ø·ÙŠ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª
    if (/^\s+$/.test(word)) return word;
    
    const normalizedWord = normalizeArabicText(word);
    
    // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ·Ø§Ø¨Ù‚
    const matches = queryWords.some(qWord => {
      return normalizedWord === qWord || 
             normalizedWord.includes(qWord) ||
             qWord.includes(normalizedWord);
    });
    
    return matches ? `<mark class="highlight">${word}</mark>` : word;
  });
  
  return highlightedWords.join('');
};

// Aliases Ù„Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù‚Ø¯ÙŠÙ…
export const normalizeSearchQuery = (q) => normalizeArabicText(q);
export const normalizeQuranicText = (t) => normalizeArabicText(t);


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ§ª Ù†Ø¸Ø§Ù… Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const testNormalization = () => {
  const testCases = [
    // Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø°ÙƒØ± Ø§Ù„Ø³Ø§Ù„Ù…
    ['Ø§Ù„ÙØ§Ø³Ù‚ÙˆÙ†', 'Ù±Ù„Û¡ÙÙÙ°Ø³ÙÙ‚ÙÙˆÙ†Ù', true],
    ['Ø§Ù„ÙØ§Ø³Ù‚ÙŠÙ†', 'Ù±Ù„Û¡ÙÙÙ°Ø³ÙÙ‚ÙÙŠÙ†Ù', true],
    ['Ø§Ù„Ø®Ø§Ø³Ø±ÙˆÙ†', 'Ù±Ù„Û¡Ø®ÙÙ°Ø³ÙØ±ÙÙˆÙ†Ù', true],
    ['Ø§Ù„Ø®Ø§Ø³Ø±ÙŠÙ†', 'Ù±Ù„Û¡Ø®ÙÙ°Ø³ÙØ±ÙÙŠÙ†Ù', true],
    ['Ø§Ù„Ø¸Ø§Ù„Ù…ÙˆÙ†', 'Ù±Ù„Ø¸ÙÙ‘Ù°Ù„ÙÙ…ÙÙˆÙ†Ù', true],
    ['Ø§Ù„Ø¸Ø§Ù„Ù…ÙŠÙ†', 'Ù±Ù„Ø¸ÙÙ‘Ù°Ù„ÙÙ…ÙÙŠÙ†Ù', true],
    ['Ø§Ù„Ù…Ø¬Ø±Ù…ÙˆÙ†', 'Ù±Ù„Û¡Ù…ÙØ¬Û¡Ø±ÙÙ…ÙÙˆÙ†Ù', true],
    ['Ø§Ù„Ù…Ø¬Ø±Ù…ÙŠÙ†', 'Ù±Ù„Û¡Ù…ÙØ¬Û¡Ø±ÙÙ…ÙÙŠÙ†Ù', true],
    ['Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†', 'Ù±Ù„Û¡ÙƒÙÙ°ÙÙØ±ÙÙˆÙ†Ù', true],
    ['Ø§Ù„ÙƒØ§ÙØ±ÙŠÙ†', 'Ù±Ù„Û¡ÙƒÙÙ°ÙÙØ±ÙÙŠÙ†Ù', true],
    ['Ø§Ù„Ù…Ø³Ù„Ù…ÙˆÙ†', 'Ù±Ù„Û¡Ù…ÙØ³Û¡Ù„ÙÙ…ÙÙˆÙ†Ù', true],
    ['Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ†', 'Ù±Ù„Û¡Ù…ÙØ³Û¡Ù„ÙÙ…ÙÙŠÙ†Ù', true],
    ['Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†', 'Ù±Ù„Û¡Ù…ÙØ¤Û¡Ù…ÙÙ†ÙÙˆÙ†Ù', true],
    ['Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ†', 'Ù±Ù„Û¡Ù…ÙØ¤Û¡Ù…ÙÙ†ÙÙŠÙ†Ù', true],
    ['Ø§Ù„ØµØ§Ø¨Ø±ÙˆÙ†', 'Ù±Ù„ØµÙÙ‘Ù°Ø¨ÙØ±ÙÙˆÙ†Ù', true],
    ['Ø§Ù„ØµØ§Ø¨Ø±ÙŠÙ†', 'Ù±Ù„ØµÙÙ‘Ù°Ø¨ÙØ±ÙÙŠÙ†Ù', true],
    
    // Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¤Ù†Ø« Ø§Ù„Ø³Ø§Ù„Ù…
    ['Ø§Ù„Ù…Ø³Ù„Ù…Ø§Øª', 'Ù±Ù„Û¡Ù…ÙØ³Û¡Ù„ÙÙ…ÙÙ°ØªÙ', true],
    ['Ø§Ù„Ù…Ø¤Ù…Ù†Ø§Øª', 'Ù±Ù„Û¡Ù…ÙØ¤Û¡Ù…ÙÙ†ÙÙ°ØªÙ', true],
    ['Ø§Ù„ØµØ§Ù„Ø­Ø§Øª', 'Ù±Ù„ØµÙÙ‘Ù°Ù„ÙØ­ÙÙ°ØªÙ', true],
    
    // Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
    ['Ø§Ù„ØµÙ„Ø§Ø©', 'Ù±Ù„ØµÙÙ‘Ù„ÙÙˆÙ°Ø©Ù', true],
    ['Ø§Ù„Ø²ÙƒØ§Ø©', 'Ù±Ù„Ø²ÙÙ‘ÙƒÙÙˆÙ°Ø©Ù', true],
    ['Ø§Ù„Ø±Ø¨Ø§', 'Ù±Ù„Ø±ÙÙ‘Ø¨ÙÙˆÙ°Ø§Ù’', true],
    ['Ø§Ù„Ø±Ø­Ù…Ù†', 'Ù±Ù„Ø±ÙÙ‘Ø­Û¡Ù…ÙÙ°Ù†Ù', true],
    
    // Ø§Ù„Ø£Ø³Ù…Ø§Ø¡
    ['Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…', 'Ø¥ÙØ¨Û¡Ø±ÙÙ°Ù‡ÙÙŠÙ…Ù', true],
    ['Ø³Ù„ÙŠÙ…Ø§Ù†', 'Ø³ÙÙ„ÙÙŠÛ¡Ù…ÙÙ°Ù†Ù', true],
    ['Ù…ÙˆØ³Ù‰', 'Ù…ÙÙˆØ³ÙÙ‰Ù°', true],
    ['Ø¹ÙŠØ³Ù‰', 'Ø¹ÙÙŠØ³ÙÙ‰Ù°', true],
    
    // Ø§Ù„Ø£Ø¯ÙˆØ§Øª
    ['Ù‡Ø°Ø§', 'Ù‡ÙÙ°Ø°ÙØ§', true],
    ['Ø°Ù„Ùƒ', 'Ø°ÙÙ°Ù„ÙÙƒÙ', true],
    ['Ø§ÙˆÙ„Ø¦Ùƒ', 'Ø£ÙÙˆÙ’Ù„ÙÙ°Ù“Ø¦ÙÙƒÙ', true],
    
    // Ø§Ù„Ø£ÙØ¹Ø§Ù„
    ['Ø§Ù…Ù†ÙˆØ§', 'Ø¡ÙØ§Ù…ÙÙ†ÙÙˆØ§', true],
    ['Ø§Ù…Ù†ÙˆØ§', 'Ù€ÙÙ”Ø§Ù…ÙÙ†ÙÙˆØ§Ù’', true],
    
    // Ø§Ù„Ø¹Ø¨Ø§Ø±Ø§Øª
    ['ÙŠØ§ Ø§ÙŠÙ‡Ø§ Ø§Ù„Ø°ÙŠÙ† Ø§Ù…Ù†ÙˆØ§', 'ÙŠÙÙ°Ù“Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ù±Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¡ÙØ§Ù…ÙÙ†ÙÙˆØ§Ù’', true],
    ['Ø§Ù„Ø°ÙŠÙ† Ø§Ù…Ù†ÙˆØ§', 'Ù±Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¡ÙØ§Ù…ÙÙ†ÙÙˆØ§Ù’', true],
    
    // ğŸ”¥ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø³ÙˆØ±Ø© Ø§Ù„Ø£Ø­Ø²Ø§Ø¨
    ['Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ†', 'Ù±Ù„Ù’Ù…ÙØ³Ù’Ù„ÙÙ…ÙÙŠÙ†Ù', true],
    ['Ø§Ù„Ù…Ø³Ù„Ù…Ø§Øª', 'Ù±Ù„Ù’Ù…ÙØ³Ù’Ù„ÙÙ…ÙÙ°ØªÙ', true],
    ['Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ†', 'Ù±Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†Ù', true],
    ['Ø§Ù„Ù…Ø¤Ù…Ù†Ø§Øª', 'Ù±Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙ°ØªÙ', true],
    ['Ø§Ù„Ù‚Ø§Ù†ØªÙŠÙ†', 'Ù±Ù„Ù’Ù‚ÙÙ°Ù†ÙØªÙÙŠÙ†Ù', true],
    ['Ø§Ù„Ù‚Ø§Ù†ØªØ§Øª', 'Ù±Ù„Ù’Ù‚ÙÙ°Ù†ÙØªÙÙ°ØªÙ', true],
    ['Ø§Ù„ØµØ§Ø¯Ù‚ÙŠÙ†', 'Ù±Ù„ØµÙ‘ÙÙ°Ø¯ÙÙ‚ÙÙŠÙ†Ù', true],
    ['Ø§Ù„ØµØ§Ø¯Ù‚Ø§Øª', 'Ù±Ù„ØµÙ‘ÙÙ°Ø¯ÙÙ‚ÙÙ°ØªÙ', true],
    ['Ø§Ù„ØµØ§Ø¨Ø±ÙŠÙ†', 'Ù±Ù„ØµÙ‘ÙÙ°Ø¨ÙØ±ÙÙŠÙ†Ù', true],
    ['Ø§Ù„ØµØ§Ø¨Ø±Ø§Øª', 'Ù±Ù„ØµÙ‘ÙÙ°Ø¨ÙØ±ÙÙ°ØªÙ', true],
    ['Ø§Ù„Ø®Ø§Ø´Ø¹ÙŠÙ†', 'Ù±Ù„Ù’Ø®ÙÙ°Ø´ÙØ¹ÙÙŠÙ†Ù', true],
    ['Ø§Ù„Ø®Ø§Ø´Ø¹Ø§Øª', 'Ù±Ù„Ù’Ø®ÙÙ°Ø´ÙØ¹ÙÙ°ØªÙ', true],
  ];
  
  console.log('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠØ¹ Ø§Ù„Ø´Ø§Ù…Ù„:');
  console.log('â•'.repeat(70));
  
  let passed = 0;
  let failed = 0;
  const failedTests = [];
  
  testCases.forEach(([normal, quranic, shouldMatch]) => {
    const normalizedNormal = normalizeArabicText(normal);
    const normalizedQuranic = normalizeArabicText(quranic);
    const matches = normalizedNormal === normalizedQuranic;
    
    if (matches === shouldMatch) {
      console.log(`âœ… ${normal} â†” ${quranic}`);
      console.log(`   "${normalizedNormal}" === "${normalizedQuranic}"`);
      passed++;
    } else {
      console.log(`âŒ ${normal} â†” ${quranic}`);
      console.log(`   "${normalizedNormal}" !== "${normalizedQuranic}"`);
      failed++;
      failedTests.push({ normal, quranic, normalizedNormal, normalizedQuranic });
    }
  });
  
  console.log('â•'.repeat(70));
  console.log(`ğŸ“Š Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${passed}/${testCases.length} Ù†Ø¬Ø­ | ${failed} ÙØ´Ù„`);
  console.log(`ğŸ“ˆ Ù†Ø³Ø¨Ø© Ø§Ù„Ù†Ø¬Ø§Ø­: ${Math.round((passed / testCases.length) * 100)}%`);
  
  if (failed > 0) {
    console.log('\nâŒ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„ÙØ§Ø´Ù„Ø©:');
    failedTests.forEach(test => {
      console.log(`  ${test.normal} â†’ "${test.normalizedNormal}"`);
      console.log(`  ${test.quranic} â†’ "${test.normalizedQuranic}"`);
    });
  }
  
  return { passed, failed, total: testCases.length, percentage: (passed / testCases.length) * 100 };
};


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ“š Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/**
 * Ù…Ø«Ø§Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:
 * 
 * // ÙÙŠ Ø§Ù„Ø¨Ø­Ø«:
 * const userInput = "Ø§Ù„ØµÙ„Ø§Ø© ÙˆØ§Ù„Ø²ÙƒØ§Ø©";
 * const normalizedInput = normalizeArabicText(userInput);
 * // Ø§Ù„Ù†ØªÙŠØ¬Ø©: "Ø§Ù„ØµÙ„Ø§Ù‡ ÙˆØ§Ù„Ø²ÙƒØ§Ù‡"
 * 
 * // ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:
 * const dbText = "Ù±Ù„ØµÙÙ‘Ù„ÙÙˆÙ°Ø©Ù ÙˆÙÙ±Ù„Ø²ÙÙ‘ÙƒÙÙˆÙ°Ø©Ù";
 * const normalizedDb = normalizeArabicText(dbText);
 * // Ø§Ù„Ù†ØªÙŠØ¬Ø©: "Ø§Ù„ØµÙ„Ø§Ù‡ ÙˆØ§Ù„Ø²ÙƒØ§Ù‡"
 * 
 * // Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©:
 * normalizedInput === normalizedDb  // â†’ true âœ…
 * 
 * // ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©:
 * const highlighted = highlightWordsInText(verse.text, userInput);
 * // Ø§Ù„Ù†ØªÙŠØ¬Ø©: "...ÙˆÙØ£ÙÙ‚ÙÙŠÙ…ÙÙˆØ§ <mark>Ù±Ù„ØµÙÙ‘Ù„ÙÙˆÙ°Ø©Ù</mark> ÙˆÙØ¢ØªÙÙˆØ§ <mark>Ù±Ù„Ø²ÙÙ‘ÙƒÙÙˆÙ°Ø©Ù</mark>..."
 */